{% extends "layout.html" %}
{% block head %}
{% endblock %}
{% block body %}
<div class="container">
    {% if process_uuid %}
    <h2>Progress</h2>
    {% include "logging.html" %}
    {% endif %}
{% if loom_config %}
    {% include "config_form.html" %}
    <form action="" class="form-horizontal" 
     method="post" enctype="multipart/form-data">
        <div class="form-group">
            <div class="col-xs-3">
                <label for="config_file" class="control-label">
                    Or choose a configuration file to load.
                </label>
                <input type="file" 
                 name="config_file" id="config_file">
            </div>
            <div class="col-xs-4">
                <input type="submit" class="btn btn-default"
                 id="load_config_button"
                 formaction="" value="Load configuration">
                <input type="submit" class="btn btn-default"
                 id="save_config_button"
                 form="config_form" formaction="{{ url_for('save_config') }}"
                 value="Save configuration">
            </div>
        </div>
        <input type="hidden" name="n_processes" value="{{ n_processes }}">
    </form>

    <form class="form-horizontal">
        <div class="col-xs-2">
            <input type="submit" class="btn btn-default" form="config_form" 
             value="Generate spectral networks">
        </div>
        <input type="hidden" name="task" form="config_form" value="generate">
    </form>
    <br/>
{% endif %}
</div>
<br/>
{% endblock %}
